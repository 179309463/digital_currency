<style>
.searchForm {
  position: relative;
  margin-right: 0 !important;
}

.searchForm input {
  width: 200px;
  height: 22px;
  padding: 3px 10px;
  padding-right: 30px;
  border-radius: 25px;
  border: 1px solid #eaecef;
  outline: 0;
  color: #999
}

.searchForm .icon-search {
  position: absolute;
  right: 15px;
  top: 3px
}

.searchForm .icon-search:before {
  content: url("search.svg")
}

.searchForm form {
  position: relative;
  display: block;
  height: 30px;
  line-height: 30px;
  margin-top: 20px;
}

.searchForm .icon-search {
  display: inline-block;
  height: 28px;
  font-style: normal;
  top: 2px;
  width: 40px;
  right: 0;
  cursor: pointer;
}

.searchForm .icon-search:before {
  margin-left: 10px;
  margin-top: 5px;
}
</style>
<style>
.autocomplete {
  position: absolute;
  border: 1px solid #eaecef;
  background: #fff;
  overflow: hidden;
  max-width: 250px;
  z-index: 999999;
  box-shadow: 2px 2px 3px #999
}

.autocomplete ul {
  padding: 0;
  margin: 0;
  display: block;
  padding: 5px
}

.autocomplete ul li {
  height: 35px;
  line-height: 35px;
  text-overflow: ellipsis;
  overflow: hidden;
  white-space: nowrap;
  padding: 0 5px
}

.autocomplete ul li a {
  color: #676a6c;
  text-decoration: none;
  font-size: 14px;
  display: block
}

.autocomplete ul li:hover {
  background: #3499da;
  color: #fff
}

.autocomplete ul li:hover a {
  color: #fff
}

.autocomplete .tit {
  border-bottom: 1px solid #eaecef;
  padding: 5px;
  font-size: 14px;
  font-family: "Microsoft YaHei", sans-serif;
  background: #f1f1f1;
  line-height: normal !important
}

.autocomplete ul li a img {
  margin-right: 5px;
  vertical-align: -2px;
}
</style> 
<style>
.rightNav {
  float: right;
  transition: all .4s
}

.rightNav li {
  height: 70px;
  line-height: 70px;
  margin-right: 15px
}
</style>  
<ul class="rightNav">
  <li class="searchForm" style="float: right">
    <form action="">
      <input type="text" id="input-sm" placeholder="输入关键词...">
      <i class="icon-search" onclick="search(document.getElementById('input-sm').value)"></i>
    </form>
    <script type="text/javascript">
      function search(word) {
          if (word == undefined || word == null || word.length < 1 || word.trim().length < 1) {
              alert("请输入关键词");
              return false;
          }
          else {
              word = word.trim();
              window.location.href = "/currencies/search.html?word=" + encodeURIComponent(word);
              //alert(window.location.href = "/search?word=" + encodeURIComponent(word));
          }
      }

      var con = $('<div class="autocomplete"></div>');
      var tit = $('<div class="tit"></div>');
      var ul = $('<ul class="datalist"></ul>');
      var $li = $('<li><a href=""><img src="" alt=""></a></li>');
      function autoComplete(a) {
          a.keyup(function () {
              var q = a.val();
              var url ='/search.json?q=' + q + '&limit=12';
              var ul1 = ul.clone();
              var ul2 = ul.clone();
              var position = a.offset();
              var h = '30px'; 
              var w = parseInt(a.css('width')) + parseInt(a.css('padding-left')) + parseInt(a.css('padding-right')) + 'px'; 
              var connew = con.clone();
              $.ajax({
                  url: url,
                  type: 'GET',
                  success: function (data) {
                      if (data.length != 0) {
                          for (var i = 0; i < data.length; i++) {
                              var cell = $li.clone();
                              var str = data[i].split('#');
                              if (str[0] == '0') {//货币
                                  var img = '';
                                  if (str[3]) {//是否有小图
                                      img = '<img src="' + str[3] + '">'
                                  }
                                  cell.find('a').attr('href', '/currencies/' + str[1]+"/").attr('title', str[1]).html(img + str[2]);
                                  ul1.append(cell);
                              }
                              else {//市场
                                  var cell = $li.clone();
                                  var img = '';
                                  if (str[3]) {//是否有小图
                                      img = '<img src="' + str[3] + '">'
                                  }
                                  cell.find('a').attr('href', '/exchange/' + str[1] + "/").attr('title', str[1]).html(img + str[2]);
                                  ul2.append(cell);
                              }
                          }

                          if (ul1.find('li').length != 0) {
                              tit.clone().text('货币').appendTo(connew);
                              ul1.appendTo(connew);
                          }
                          if (ul2.find('li').length != 0) {
                              tit.clone().text('市场').appendTo(connew);
                              ul2.appendTo(connew);
                          }
                          $('body').find('.autocomplete').remove();
                          var o = a.closest('.searchForm');
                          if (!o.hasClass('searchForm2')) {
                              h = '55px'
                          }
                          else {
                              h = '30px'
                          }
                          connew.css('top', h).css('min-width', w);
                          o.append(connew);
                      } else {
                          $('body').find('.autocomplete').remove();
                      }
                      /*  a.blur(function(){
                            $('body').find('.autocomplete').css('display','none');
                        })*/
                      $('body').click(function () {
                          $('body').find('.autocomplete').remove();
                      });
                      $('body').find('.autocomplete').find('a').click(function (e) {
                          e.stopPropagation();
                          a.val($(this).text());
                          $('body').find('.autocomplete').remove();
                      })
                  },
                  error: function () {
                      return false
                  }
              })
          })
      }      
      $(function(){
        autoComplete($('#input-sm'));
      });
    </script>
  </li>
<style>
  .cell {
    padding: 15px;
    float: left;
    width: 260px
  }

  .cell>div {
    margin-bottom: 5px;
    color: #666
  }

  .cell .num-b {
    font-size: 35px;
    font-weight: bold;
    color: #666
  }

  .cell .small {
    font-size: 20px;
    vertical-align: middle;
    margin-left: 5px
  }

  .cell .num {
    font-size: 20px;
    color: #666;
    min-height: 19px;
    font-weight: bold
  }

  .cell .tit {
    color: #000
  }
  </style>  
  <style>
  li.showmarket {
    line-height: normal;
    margin-top: 0;
    overflow: hidden;
    height: 80px
  }

  .showmarket .cell {
    width: 130px;
    border-left: 1px solid #eaecef;
    background: #fff;
    padding: 15px 10px
  }

  .showmarket .cell:last-child {
    border-right: 1px solid #eaecef
  }

  .showmarket .cell .num {
    font-weight: normal;
    font-size: 13px;
    float: left
  }

  .showmarket .cell .tit {
    font-size: 14px;
    width: 100%
  }

  .showmarket .cell .char {
    float: left;
    margin-left: 8px
  }

  .showmarket .text-green:after {
    content: url("arrow-u3.svg")
  }

  .showmarket .text-red:after {
    content: url("arrow-d4.svg")
  }
  </style>
  <li class="showmarket" style="float: right">
    <div class="cell">
      <div class="tit">
        <a id="ticker_bitfinex_btc_usd" href="https://www.bitfinex.com/" target="_blank" rel="nofollow">BTC/Bitfinex</a>
      </div>
      <div class="num">65760.67</div>
      <div class="char">
        <span class="line">74963,69215,69949,64859,65673,69645,69664,73802,74023,70970,72158,74451,74097,71692,79155,80295,81992,81890,77899,75842,72178,72454,73489,75000,67701,68396,67139,66349,65760.67</span>
      </div>
    </div>
    <div class="cell">
      <div class="tit">
        <a id="ticker_poloniex_btc_usdt" href="https://poloniex.com/exchange/#usdt_btc" target="_blank" rel="nofollow">BTC/P网</a>
      </div>
      <div class="num">66351.97</div>
      <div class="char">
        <span class="line">75645,70690,69938,63249,66138,70634,70130,73516,74022,70690,71835,74651,73812,71284,79128,80591,82284,81955,77670,75719,72580,71951,74084,75038,67637,68542,67724,66540,66351.97</span>
      </div>
    </div>
    <div class="cell">
      <div class="tit">
        <a id="ticker_bitfinex_eth_usd" href="https://www.bitfinex.com/" target="_blank" rel="nofollow">ETH/Bitfinex</a>
      </div>
      <div class="num">5973.87</div>
      <div class="char">
        <span class="line">7010,6271,6221,5733,5753,6216,6160,6605,6788,6397,6510,6783,6727,6466,7037,7172,7356,7367,7024,6856,6598,6571,6722,6891,6223,6304,6165,6036,5973.87</span>
      </div>
    </div>
    <script type="text/javascript">
      $(function(){
        $('.line').peity("line", {
          width: 50,
          height: 15,
          fill: '#f5f5f5',
          min: 99999,
          strokeWidth: 1
        });
      })
    </script>
  </li>
</ul>



    